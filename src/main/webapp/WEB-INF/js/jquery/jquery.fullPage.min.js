define(["jquery","jquery.easing"],function(a){!function(a){a.fn.fullpage=function(b){function c(c){if(b.autoScrolling){c=window.event||c,c=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail));var d;if(d=a(".section.active"),!A)if(d=d.find(".slides").length?d.find(".slide.active").find(".scrollable"):d.find(".scrollable"),0>c)if(0<d.length){if(!k("bottom",d))return!0;a.fn.fullpage.moveSectionDown()}else a.fn.fullpage.moveSectionDown();else if(0<d.length){if(!k("top",d))return!0;a.fn.fullpage.moveSectionUp()}else a.fn.fullpage.moveSectionUp();return!1}}function d(){document.addEventListener?(document.addEventListener("mousewheel",c,!1),document.addEventListener("DOMMouseScroll",c,!1)):document.attachEvent("onmousewheel",c)}function e(c,d){var e,f={},g=c.position(),g=null!==g?g.top:null,h=l(c),k=c.data("anchor"),m=c.index(".section"),n=c.find(".slide.active");if(n.length){e=n.data("anchor");var p=n.index()}n=a(".section.active").index(".section")+1,c.addClass("active").siblings().removeClass("active"),A=!0,"undefined"!=typeof k?s(p,e,k):location.hash="",b.autoScrolling?(f.top=-g,e="#superContainer"):(f.scrollTop=g,e="html, body"),b.css3&&b.autoScrolling?(a.isFunction(b.onLeave)&&b.onLeave.call(this,n,h),o("translate3d(0px, -"+g+"px, 0px)",!0),setTimeout(function(){a.isFunction(b.afterLoad)&&b.afterLoad.call(this,k,m+1),setTimeout(function(){A=!1,a.isFunction(d)&&d.call(this)},u)},b.scrollingSpeed)):(a.isFunction(b.onLeave)&&b.onLeave.call(this,n,h),a(e).animate(f,b.scrollingSpeed,b.easing,function(){a.isFunction(b.afterLoad)&&b.afterLoad.call(this,k,m+1),setTimeout(function(){A=!1,a.isFunction(d)&&d.call(this)},u)})),v=k,b.autoScrolling&&(j(k),i(k,m))}function f(c,d){var e=d.position(),f=c.find(".slidesContainer").parent(),g=d.index(),h=c.closest(".section"),i=h.index(".section"),j=h.data("anchor"),k=h.find(".fullPage-slidesNav"),l=d.data("anchor");if(b.onSlideLeave){var m,n=h.find(".slide.active").index();m=n>g?"left":"right",a.isFunction(b.onSlideLeave)&&b.onSlideLeave.call(this,j,i+1,n,m)}d.addClass("active").siblings().removeClass("active"),"undefined"==typeof l&&(l=g),h.hasClass("active")&&(b.loopHorizontal||(h.find(".controlArrow.prev").toggle(0!=g),h.find(".controlArrow.next").toggle(!d.is(":last-child"))),s(g,l,j)),b.css3?(e="translate3d(-"+e.left+"px, 0px, 0px)",c.find(".slidesContainer").addClass("easing").css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}),setTimeout(function(){a.isFunction(b.afterSlideLoad)&&b.afterSlideLoad.call(this,j,i+1,l,g),x=!1},b.scrollingSpeed)):f.animate({scrollLeft:e.left},b.scrollingSpeed,function(){a.isFunction(b.afterSlideLoad)&&b.afterSlideLoad.call(this,j,i+1,l,g),x=!1}),k.find(".active").removeClass("active"),k.find("li").eq(g).find("a").addClass("active")}function g(){var c=a(window).width();z=a(window).height(),b.resize&&h(z,c),a(".section").each(function(){if(parseInt(a(this).css("padding-bottom")),parseInt(a(this).css("padding-top")),b.scrollOverflow){var c=a(this).find(".slide");c.length?c.each(function(){m(a(this))}):m(a(this))}b.verticalCentered&&a(this).find(".tableCell").css("height",z+"px"),a(this).css("height",z+"px"),c=a(this).find(".slides"),c.length&&f(c,c.find(".slide.active"))}),a(".section.active").position(),c=a(".section.active"),c.index(".section")&&e(c)}function h(b,c){var d=825,e=b;825>b||900>c?(900>c&&(e=c,d=900),d=(100*e/d).toFixed(2),a("body").css("font-size",d+"%")):a("body").css("font-size","100%")}function i(c,d){b.navigation&&(a("#fullPage-nav").find(".active").removeClass("active"),c?a("#fullPage-nav").find('a[href="#'+c+'"]').addClass("active"):a("#fullPage-nav").find("li").eq(d).find("a").addClass("active"))}function j(c){b.menu&&(a(b.menu).find(".active").removeClass("active"),a(b.menu).find('[data-menuanchor="'+c+'"]').addClass("active"))}function k(a,b){return"top"===a?!b.scrollTop():"bottom"===a?b.scrollTop()+b.innerHeight()>=b[0].scrollHeight:void 0}function l(b){var c=a(".section.active").index(".section");return b=b.index(".section"),c>b?"up":"down"}function m(a){a.css("overflow","hidden");var c=a.closest(".section"),d=a.find(".scrollable");(d.length?a.find(".scrollable").get(0).scrollHeight-parseInt(c.css("padding-bottom"))-parseInt(c.css("padding-top")):a.get(0).scrollHeight-parseInt(c.css("padding-bottom"))-parseInt(c.css("padding-top")))>z?(c=z-parseInt(c.css("padding-bottom"))-parseInt(c.css("padding-top")),d.length?d.css("height",c+"px").parent().css("height",c+"px"):(b.verticalCentered?a.find(".tableCell").wrapInner('<div class="scrollable" />'):a.wrapInner('<div class="scrollable" />'),a.find(".scrollable").slimScroll({height:c+"px",size:"10px",alwaysVisible:!0}))):(a.find(".scrollable").children().first().unwrap().unwrap(),a.find(".slimScrollBar").remove(),a.find(".slimScrollRail").remove()),a.css("overflow","")}function n(a){a.addClass("table").wrapInner('<div class="tableCell" style="height:'+z+'px;" />')}function o(b,c){a("#superContainer").toggleClass("easing",c),a("#superContainer").css({"-webkit-transform":b,"-moz-transform":b,"-ms-transform":b,transform:b})}function p(b,c){var d=isNaN(b)?a('[data-anchor="'+b+'"]'):a(".section").eq(b-1);b===v||d.hasClass("active")?q(d,c):e(d,function(){q(d,c)})}function q(a,b){if("undefined"!=typeof b){var c=a.find(".slides"),d=c.find('[data-anchor="'+b+'"]');d.length||(d=c.find(".slide").eq(b)),d.length&&f(c,d)}}function r(a,c){a.append('<div class="fullPage-slidesNav"><ul></ul></div>');var d=a.find(".fullPage-slidesNav");d.addClass(b.slidesNavPosition);for(var e=0;e<c;e++)d.find("ul").append('<li><a href="#"><span></span></a></li>');d.css("margin-left","-"+d.width()/2+"px"),d.find("li").first().find("a").addClass("active")}function s(a,b,c){var d="";a?("undefined"!=typeof c&&(d=c),"undefined"==typeof b&&(b=a),w=b,location.hash=d+"/"+b):location.hash=c}function t(){var a,b=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var d in c)void 0!==b.style[d]&&(b.style[d]="translate3d(1px,1px,1px)",a=window.getComputedStyle(b).getPropertyValue(c[d]));return document.body.removeChild(b),void 0!==a&&0<a.length&&"none"!==a}b=a.extend({verticalCentered:!0,resize:!0,slidesColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",menu:!1,navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],slidesNavigation:!1,slidesNavPosition:"bottom",controlArrowColor:"#fff",loopBottom:!1,loopTop:!1,loopHorizontal:!0,autoScrolling:!0,scrollOverflow:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,afterLoad:null,onLeave:null,afterRender:null,afterSlideLoad:null,onSlideLeave:null},b);var u=700;a.fn.fullpage.setAutoScrolling=function(c){b.autoScrolling=c,c=a(".section.active"),b.autoScrolling?(a("html, body").css({overflow:"hidden",height:"100%"}),c.length&&(b.css3?(c="translate3d(0px, -"+c.position().top+"px, 0px)",o(c,!1)):a("#superContainer").css("top","-"+c.position().top+"px"))):(a("html, body").css({overflow:"auto",height:"auto"}),b.css3?o("translate3d(0px, 0px, 0px)",!1):a("#superContainer").css("top","0px"),a("html, body").scrollTop(c.position().top))};var v,w,x=!1,y=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|Windows Phone)/),z=a(window).height(),A=!1;if(d(),b.css3&&(b.css3=t()),b.navigation){a("body").append('<div id="fullPage-nav"><ul></ul></div>');var B=a("#fullPage-nav");B.css("color",b.navigationColor),B.addClass(b.navigationPosition)}a(".section").each(function(c){var d=a(this).find(".slide"),e=d.length;if(c||a(this).addClass("active"),a(this).css("height",z+"px"),(b.paddingTop||b.paddingBottom)&&a(this).css("padding",b.paddingTop+" 0 "+b.paddingBottom+" 0"),"undefined"!=typeof b.slidesColor[c]&&a(this).css("background-color",b.slidesColor[c]),"undefined"!=typeof b.anchors[c]&&a(this).attr("data-anchor",b.anchors[c]),b.navigation){var f="";b.anchors.length&&(f=b.anchors[c]),c=b.navigationTooltips[c],"undefined"==typeof c&&(c=""),B.find("ul").append('<li data-tooltip="'+c+'"><a href="#'+f+'"><span></span></a></li>')}if(0<e){var f=100*e,g=100/e;d.wrapAll('<div class="slidesContainer" />'),d.parent().wrap('<div class="slides" />'),a(this).find(".slidesContainer").css("width",f+"%"),a(this).find(".slides").after('<div class="controlArrow prev"></div><div class="controlArrow next"></div>'),a(this).find(".controlArrow.next").css("border-color","transparent transparent transparent "+b.controlArrowColor),a(this).find(".controlArrow.prev").css("border-color","transparent "+b.controlArrowColor+" transparent transparent"),b.loopHorizontal||a(this).find(".controlArrow.prev").hide(),b.slidesNavigation&&r(a(this),e),d.each(function(c){c||a(this).addClass("active"),a(this).css("width",g+"%"),b.verticalCentered&&n(a(this))})}else b.verticalCentered&&n(a(this))}).promise().done(function(){a.fn.fullpage.setAutoScrolling(b.autoScrolling),a.isFunction(b.afterRender)&&b.afterRender.call(this),b.fixedElements&&b.css3&&a(b.fixedElements).appendTo("body"),b.navigation&&(B.css("margin-top","-"+B.height()/2+"px"),B.find("li").first().find("a").addClass("active")),b.menu&&b.css3&&a(b.menu).appendTo("body"),b.scrollOverflow&&a(window).on("load",function(){a(".section").each(function(){var b=a(this).find(".slide");b.length?b.each(function(){m(a(this))}):m(a(this))})}),a(window).on("load",function(){var a=window.location.hash.replace("#","").split("/"),b=a[0],a=a[1];b&&p(b,a)})});var C,D=!1;a(window).scroll(function(c){if(!b.autoScrolling){var d=a(window).scrollTop();if(c=a(".section").map(function(){if(a(this).offset().top<d+100)return a(this)}),c=c[c.length-1],!c.hasClass("active")){D=!0;var e=l(c);a(".section.active").removeClass("active"),c.addClass("active");var f=c.data("anchor");a.isFunction(b.onLeave)&&b.onLeave.call(this,c.index(".section"),e),a.isFunction(b.afterLoad)&&b.afterLoad.call(this,f,c.index(".section")+1),j(f),i(f,0),b.anchors.length&&!A&&(v=f,location.hash=f),clearTimeout(C),C=setTimeout(function(){D=!1},100)}}});var E=0,F=0,G=0,H=0;if(a(document).on("touchmove",function(c){if(b.autoScrolling&&y){c.preventDefault(),c=c.originalEvent;var d=a(".section.active");if(!A&&!x)if(G=c.touches[0].pageY,H=c.touches[0].pageX,d.find(".slides").length&&Math.abs(F-H)>Math.abs(E-G))F>H?d.find(".controlArrow.next").trigger("click"):F<H&&d.find(".controlArrow.prev").trigger("click");else if(c=d.find(".slides").length?d.find(".slide.active").find(".scrollable"):d.find(".scrollable"),E>G)if(0<c.length){if(!k("bottom",c))return!0;a.fn.fullpage.moveSectionDown()}else a.fn.fullpage.moveSectionDown();else if(0<c.length){if(!k("top",c))return!0;a.fn.fullpage.moveSectionUp()}else a.fn.fullpage.moveSectionUp()}}),a(document).on("touchstart",function(a){b.autoScrolling&&y&&(a=a.originalEvent,E=a.touches[0].pageY,F=a.touches[0].pageX)}),a.fn.fullpage.moveSectionUp=function(){var c=a(".section.active").prev(".section");b.loopTop&&!c.length&&(c=a(".section").last()),(0<c.length||!c.length&&b.loopTop)&&e(c)},a.fn.fullpage.moveSectionDown=function(){var c=a(".section.active").next(".section");b.loopBottom&&!c.length&&(c=a(".section").first()),(0<c.length||!c.length&&b.loopBottom)&&e(c)},a.fn.fullpage.moveTo=function(b,c){var d="",d=isNaN(b)?a('[data-anchor="'+b+'"]'):a(".section").eq(b-1);"undefined"!==c?p(b,c):0<d.length&&e(d)},a(window).on("hashchange",function(){if(!D){var a=window.location.hash.replace("#","").split("/"),b=a[0],a=a[1],c="undefined"==typeof v,d="undefined"==typeof v&&"undefined"==typeof a;(b&&b!==v&&!c||d||"undefined"!=typeof a&&!x&&w!=a)&&p(b,a)}}),a(document).keydown(function(b){if(!A)switch(b.which){case 38:case 33:a.fn.fullpage.moveSectionUp();break;case 40:case 34:a.fn.fullpage.moveSectionDown();break;case 37:a(".section.active").find(".controlArrow.prev").trigger("click");break;case 39:a(".section.active").find(".controlArrow.next").trigger("click")}}),a(document).on("click","#fullPage-nav a",function(b){b.preventDefault(),b=a(this).parent().index(),e(a(".section").eq(b))}),a(document).on({mouseenter:function(){var c=a(this).data("tooltip");a('<div class="fullPage-tooltip '+b.navigationPosition+'">'+c+"</div>").hide().appendTo(a(this)).fadeIn(200)},mouseleave:function(){a(this).find(".fullPage-tooltip").fadeOut().remove()}},"#fullPage-nav li"),b.normalScrollElements&&(a(document).on("mouseover",b.normalScrollElements,function(){document.addEventListener?(document.removeEventListener("mousewheel",c,!1),document.removeEventListener("DOMMouseScroll",c,!1)):document.detachEvent("onmousewheel",c)}),a(document).on("mouseout",b.normalScrollElements,function(){d()})),a(".section").on("click",".controlArrow",function(){if(!x){x=!0;var b=a(this).closest(".section").find(".slides"),c=b.find(".slide.active"),d=null,d=a(this).hasClass("prev")?c.prev(".slide"):c.next(".slide");d.length||(d=a(this).hasClass("prev")?c.siblings(":last"):c.siblings(":first")),f(b,d)}}),a(".section").on("click",".toSlide",function(b){b.preventDefault(),b=a(this).closest(".section").find(".slides"),b.find(".slide.active");var c=null,c=b.find(".slide").eq(a(this).data("index")-1);0<c.length&&f(b,c)}),!y){var I;a(window).resize(function(){clearTimeout(I),I=setTimeout(g,500)})}a(window).bind("orientationchange",function(){g()}),a(document).on("click",".fullPage-slidesNav a",function(b){b.preventDefault(),b=a(this).closest(".section").find(".slides");var c=b.find(".slide").eq(a(this).closest("li").index());f(b,c)})}}(a)});